# Copy this file to terraform.tfvars and customize the values
#   cp terraform.tfvars.example terraform.tfvars

cluster_name = "plane-eks-cluster"
region       = "us-west-2"
vpc_cidr     = "10.0.0.0/16"

# Use null for default AZs (first 3 in region), or specify explicitly:
# availability_zones = ["us-west-2a", "us-west-2b", "us-west-2c"]

single_nat_gateway = true # Set to true for cost savings, false for HA
cluster_version    = "1.34"

eks = {
  node_instance_types = ["t3.large"]
  node_desired_size   = 2
  node_min_size       = 2
  node_max_size       = 2
  node_disk_size      = 50
  node_group_name     = "plane-node-group"
  ssh_key_name        = null
}

tags = {
  Environment = "plane"
}

cache = {
  node_type      = "cache.t3.micro"
  num_nodes      = 1
  engine_version = "7.0"
}

# OpenSearch - publicly accessible with HTTPS and authentication, password auto-generated in Secrets Manager
opensearch = {
  master_username  = "admin"
  engine_version   = "OpenSearch_2.11"
  instance_type    = "t3.small.search"
  instance_count   = 2
  ebs_volume_size  = 10
}

object_store = {
  bucket_name_prefix  = "plane"
  enable_versioning   = false
  enable_vpc_endpoint = true
}

# Database (RDS Multi-AZ DB Cluster - PostgreSQL, 1 writer + 2 readers, password in Secrets Manager)
db = {
  name              = "planedb"
  username          = "postgres"
  engine_version    = "15.12"
  instance_class    = "db.m6gd.large"
  allocated_storage = 100
  storage_type      = "io1"
  iops              = 1000
}
