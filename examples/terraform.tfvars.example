# Copy this file to terraform.tfvars and customize the values
#   cp terraform.tfvars.example terraform.tfvars

cluster_name = "plane-eks-cluster"
region       = "us-west-2"
vpc_cidr     = "10.0.0.0/16"

# Use null for default AZs (first 3 in region), or specify explicitly:
# availability_zones = ["us-west-2a", "us-west-2b", "us-west-2c"]

single_nat_gateway = true # Set to true for cost savings, false for HA
cluster_version    = "1.34"

node_instance_types = ["t3.large"]
node_desired_size   = 2
node_min_size       = 2
node_max_size       = 2
node_disk_size      = 50
node_group_name     = "plane-node-group"

tags = {
  Environment = "plane"
}

# MQ - password is auto-generated and stored in Secrets Manager
mq_username        = "admin"
mq_instance_type   = "mq.m7g.medium"
mq_deployment_mode = "CLUSTER_MULTI_AZ"
mq_engine_version  = "4.2"


# Cache
cache_node_type = "cache.t3.micro"
cache_num_nodes = 1

# OpenSearch - publicly accessible, password auto-generated in Secrets Manager
opensearch_master_username = "admin"
opensearch_instance_type   = "t3.small.search"
opensearch_instance_count  = 2

# Object Store
bucket_name_prefix     = "plane"
enable_s3_vpc_endpoint = true

# Database (RDS Multi-AZ DB Cluster - PostgreSQL, 1 writer + 2 readers, password in Secrets Manager)
db_name              = "planedb"
db_username          = "postgres"
db_engine_version    = "15.12"
db_instance_class    = "db.m6gd.large"
db_allocated_storage = 100
db_storage_type      = "io1"
db_iops              = 1000
